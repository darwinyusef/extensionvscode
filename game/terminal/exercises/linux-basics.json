{
  "exercise": {
    "id": "linux-basics-001",
    "title": "Linux Basics - File Navigation",
    "category": "Linux",
    "difficulty": "beginner",
    "description": "Learn basic Linux commands for navigating the filesystem",
    "documentation": {
      "title": "Linux File Navigation",
      "sections": [
        {
          "heading": "Sistema de Archivos Linux",
          "content": "Linux organiza los archivos en una estructura jerárquica de directorios que comienza en la raíz (`/`).\n\nTodo en Linux es un archivo:\n- Archivos regulares (documentos, código)\n- Directorios (carpetas)\n- Dispositivos (discos, terminales)\n- Enlaces simbólicos (accesos directos)"
        },
        {
          "heading": "Comandos Básicos de Navegación",
          "content": "Estos son los comandos fundamentales para navegar y explorar el sistema de archivos en Linux.",
          "code": "# pwd - Muestra el directorio actual\npwd\n\n# ls - Lista archivos y directorios\nls\nls -l    # formato largo con detalles\nls -la   # incluye archivos ocultos\n\n# cd - Cambia de directorio\ncd /home/user\ncd ..\ncd ~"
        },
        {
          "heading": "Manipulación de Archivos",
          "content": "Comandos para crear, ver y modificar archivos y directorios.",
          "code": "# mkdir - Crea un directorio\nmkdir proyectos\nmkdir -p proyectos/subdir  # crea subdirectorios\n\n# touch - Crea un archivo vacío\ntouch archivo.txt\n\n# cat - Muestra contenido de archivos\ncat archivo.txt\n\n# cp - Copia archivos\ncp origen.txt destino.txt\n\n# mv - Mueve o renombra archivos\nmv viejo.txt nuevo.txt\n\n# rm - Elimina archivos\nrm archivo.txt\nrm -r directorio  # elimina directorio"
        },
        {
          "heading": "Tipos de Rutas",
          "content": "En Linux existen dos tipos de rutas para referenciar archivos y directorios.",
          "code": "# Ruta absoluta - Desde la raíz\n/home/user/documents/file.txt\n\n# Ruta relativa - Desde directorio actual\n./file.txt\n../parent-folder/file.txt\n\n# Símbolos especiales\n..   # Directorio padre\n.    # Directorio actual\n~    # Directorio home del usuario\n-    # Directorio anterior"
        },
        {
          "heading": "Ejemplos Prácticos",
          "content": "Casos de uso comunes combinando múltiples comandos.",
          "code": "# Navegar a home y crear proyecto\ncd ~\nmkdir -p proyecto/src\ncd proyecto/src\ntouch app.js\n\n# Listar archivos con detalles\nls -lh\n\n# Ver estructura de directorios\npwd\nls -R"
        }
      ],
      "references": [
        {
          "title": "Linux Command Line Basics",
          "url": "https://ubuntu.com/tutorials/command-line-for-beginners"
        }
      ]
    },
    "goals": [
      {
        "id": "goal_1",
        "title": "Navegar entre directorios con cd",
        "points": 10,
        "bonus": false
      },
      {
        "id": "goal_2",
        "title": "Listar archivos con ls",
        "points": 10,
        "bonus": false
      },
      {
        "id": "goal_3",
        "title": "Crear directorios con mkdir",
        "points": 10,
        "bonus": false
      },
      {
        "id": "goal_4",
        "title": "Crear archivos con touch",
        "points": 10,
        "bonus": false
      },
      {
        "id": "goal_5",
        "title": "Ver contenido con cat",
        "points": 10,
        "bonus": false
      },
      {
        "id": "goal_bonus",
        "title": "Usar rutas relativas y absolutas",
        "points": 15,
        "bonus": true
      }
    ],
    "initial_state": {
      "filesystem": {
        "type": "directory",
        "name": "/",
        "permissions": "drwxr-xr-x",
        "owner": "root",
        "group": "root",
        "children": {
          "home": {
            "type": "directory",
            "name": "home",
            "permissions": "drwxr-xr-x",
            "owner": "root",
            "group": "root",
            "children": {
              "student": {
                "type": "directory",
                "name": "student",
                "permissions": "drwxr-xr-x",
                "owner": "student",
                "group": "student",
                "children": {
                  "documents": {
                    "type": "directory",
                    "name": "documents",
                    "permissions": "drwxr-xr-x",
                    "owner": "student",
                    "group": "student",
                    "children": {
                      "readme.txt": {
                        "type": "file",
                        "name": "readme.txt",
                        "permissions": "-rw-r--r--",
                        "owner": "student",
                        "group": "student",
                        "content": "Welcome to Linux!\nThis is a test file."
                      }
                    }
                  }
                }
              }
            }
          },
          "tmp": {
            "type": "directory",
            "name": "tmp",
            "permissions": "drwxrwxrwx",
            "owner": "root",
            "group": "root",
            "children": {}
          }
        }
      },
      "current_directory": "/home/student",
      "env": {
        "USER": "student",
        "HOME": "/home/student"
      }
    },
    "steps": [
      {
        "step_id": 1,
        "instruction": "List the files in the current directory using 'ls'",
        "validation": {
          "type": "command_exact",
          "expected_command": "ls",
          "alternative_commands": ["ls -a", "ls -l", "ls -la"]
        },
        "on_correct": "Great! You can see the 'documents' directory.",
        "on_wrong": "Try typing: ls",
        "points": 10
      },
      {
        "step_id": 2,
        "instruction": "Change to the 'documents' directory using 'cd'",
        "validation": {
          "type": "state_check",
          "checks": [
            {
              "type": "current_directory",
              "value": "/home/student/documents"
            }
          ]
        },
        "on_correct": "Perfect! You're now in the documents directory.",
        "on_wrong": "Use: cd documents",
        "points": 10
      },
      {
        "step_id": 3,
        "instruction": "Display the content of 'readme.txt' using 'cat'",
        "validation": {
          "type": "command_exact",
          "expected_command": "cat readme.txt",
          "alternative_commands": ["cat ./readme.txt"]
        },
        "on_correct": "Excellent! You can read file contents now.",
        "on_wrong": "Try: cat readme.txt",
        "points": 10
      },
      {
        "step_id": 4,
        "instruction": "Go back to the parent directory using 'cd ..'",
        "validation": {
          "type": "state_check",
          "checks": [
            {
              "type": "current_directory",
              "value": "/home/student"
            }
          ]
        },
        "on_correct": "Good! '..' takes you to the parent directory.",
        "on_wrong": "Use: cd ..",
        "points": 10
      },
      {
        "step_id": 5,
        "instruction": "Create a new directory called 'projects' using 'mkdir'",
        "validation": {
          "type": "command_with_fs_check",
          "expected_command": "mkdir projects",
          "alternative_commands": ["mkdir ./projects"],
          "fs_checks": [
            {
              "type": "directory_exists",
              "path": "/home/student/projects"
            }
          ]
        },
        "on_correct": "Awesome! Directory created successfully.",
        "on_wrong": "Use: mkdir projects",
        "points": 15
      },
      {
        "step_id": 6,
        "instruction": "Create an empty file called 'todo.txt' in the projects directory",
        "validation": {
          "type": "command_with_fs_check",
          "expected_command": "touch projects/todo.txt",
          "alternative_commands": ["touch ./projects/todo.txt"],
          "fs_checks": [
            {
              "type": "file_exists",
              "path": "/home/student/projects/todo.txt"
            }
          ]
        },
        "on_correct": "Perfect! File created successfully.",
        "on_wrong": "Use: touch projects/todo.txt",
        "points": 15
      },
      {
        "step_id": 7,
        "instruction": "List all files in long format using 'ls -l' to see your new files",
        "validation": {
          "type": "command_pattern",
          "pattern": "^ls\\s+-[al]+"
        },
        "on_correct": "Great job! You completed the basic Linux navigation exercise!",
        "on_wrong": "Use: ls -l",
        "points": 10
      }
    ],
    "rewards": {
      "xp": 80,
      "badge": "linux-navigator",
      "unlocks": ["linux-basics-002"]
    }
  }
}
